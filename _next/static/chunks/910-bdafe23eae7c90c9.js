"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[910],{1910:(e,t,l)=>{l.d(t,{EarlyAccessButton:()=>P,default:()=>z});var n=l(5155);function s(e){let{size:t,tabletSize:l,mobileSize:s,style:c,enabled:u,children:d}=e,x=["button",u?"primary"===c?r.primary:r.secondary:r.disabled,function(e){let t=a[e];if(!t)throw Error("Invalid desktop size: ".concat(e));return t}(l),function(e){let t=o[e];if(!t)throw Error("Invalid mobile size: ".concat(e));return t}(s),function(e){let t=i[e];if(!t)throw Error("Invalid desktop size: ".concat(e));return t}(t)].join(" ");return(0,n.jsx)("span",{className:x,children:d})}let r={primary:"button-primary",secondary:"button-secondary",disabled:"button-disabled"},o={S:"text-sm/[20px] px-6 py-2.5",M:"text-sm/[20px] px-7 py-3.5",L:"text-base/[24px] px-8 py-4.5"},a={S:"md:text-sm/[20px] md:px-6 md:py-2.5",M:"md:text-sm/[20px] md:px-7 md:py-3.5",L:"md:text-base/[24px] md:px-8 md:py-4.5"},i={S:"xl:text-sm/[20px] xl:px-6 xl:py-2.5",M:"xl:text-sm/[20px] xl:px-7 xl:py-3.5",L:"xl:text-base/[24px] xl:px-8 xl:py-4.5"};var c=l(2115),u=l(8173),d=l.n(u);function x(e){let{type:t="button",onAction:l=()=>!0,href:r,size:o="M",tabletSize:a=o,mobileSize:i=a,style:u="primary",disabled:x=!1,className:m="",children:f}=e,h=r?d():p;if("button"!==t&&r)throw Error('Button with href must be of type="button"; got "'.concat(t,'"'));let b=(0,c.useCallback)(e=>{("Enter"===e.key||" "===e.key)&&(e.preventDefault(),l(e))},[l]);return(0,n.jsx)("button",{type:t,disabled:x,className:"button-container ".concat(m),onKeyDown:b,children:(0,n.jsx)(h,{href:r,onClick:l,children:(0,n.jsx)(s,{size:o,tabletSize:a,mobileSize:i,style:u,enabled:!x,children:f})})})}function p(e){let{children:t,onClick:l}=e;return(0,n.jsx)("span",{onClick:l,children:t})}var m=l(8026),f=l(6485),h=l(4790),b=l(7543),y=l(6743);let v=(0,c.createContext)(null);function w(){let e=(0,c.useContext)(v);if(null===e)throw Error("useFormContext must be used within a Form component");return e}function j(e){let{name:t,className:l="",onSubmit:s=g,children:r}=e,o=(0,c.useRef)(null),[a,i]=(0,c.useState)({}),[u,d]=(0,c.useState)(!1),x=(0,c.useMemo)(()=>({values:a,valid:u,setValues:e=>{var t;i(e),d((null===(t=o.current)||void 0===t?void 0:t.checkValidity())||!1)},submit:()=>s(a)}),[a,u,i,s]),p=(0,c.useCallback)(e=>{let t=o.current;if(t)return(e.preventDefault(),t.checkValidity())?s(a):t.reportValidity(),!1},[s,a]);return(0,n.jsx)("form",{ref:o,name:t,className:l,onSubmit:p,children:(0,n.jsx)(v.Provider,{value:x,children:r})})}function g(){}let k=function(e){let{className:t="",focused:l,children:s}=e,r=["p-5.5 xl:p-6 border-box rounded-lg inset-shadow-sm border bg-white text-violet text-lg xl:text-xl font-regular",l?"border-blue-300/60 outline outline-4 outline-blue-200/70 inset-shadow-violet/10":"border-slate-400 inset-shadow-violet/20",t].join(" ");return(0,n.jsx)("div",{className:r,children:s})},N=()=>{};function C(e){let{name:t,className:l="",submitOnEnter:s=!1,children:r,onFocus:o=N,onKeyDown:a=N,...i}=e,u=w(),d=(0,c.useRef)(null),x=u.values[t]||"",[p,m]=function(e,t){let[l,n]=(0,c.useState)(t);return(0,c.useEffect)(()=>{document.hasFocus()&&e.current===document.activeElement&&n(!0)},[e]),[l,n]}(d,i.autoFocus||!1);!function(e,t,l){let n=t.current;(0,c.useEffect)(()=>{e&&n&&l&&n.focus()},[e,t,l,n])}(x,d,i.autoFocus||!1);let f=(0,c.useCallback)(e=>{u.setValues({...u.values,[t]:e.target.value})},[t,u]),h=(0,c.useCallback)(e=>{a(e),s&&"Enter"===e.key&&!e.shiftKey&&(e.preventDefault(),u.submit())},[s,a,u]),b=(0,c.useCallback)(()=>{m(!0),o()},[o,m]);return(0,n.jsx)(k,{className:"flex flex-row overflow-auto ".concat(l),focused:p,children:(0,n.jsx)("input",{...i,value:x,onChange:f,onKeyDown:h,onFocus:b,onBlur:()=>m(!1),ref:d,className:"w-full h-full resize-none overflow-hidden placeholder:text-contrast/30",suppressHydrationWarning:!0})})}function E(){let e=(0,m.d_)(),[t,l]=(0,c.useState)("init"),[s,r]=(0,c.useState)(null),o=(0,c.useCallback)(e=>{"init"===t&&(l("submitted"),Promise.resolve().then(()=>fetch("https://magic.djinni.ai/early-access/subscribe",{method:"POST",body:JSON.stringify({email:e.email})})).then(e=>e.json()).then(e=>{if(e.success)l("success");else{var t;throw Error(null!==(t=e.error)&&void 0!==t?t:"Unknown error")}}).catch(e=>{console.error(e),l("error"),r(e.message)}))},[t,l]);return(0,c.useEffect)(()=>{if("success"===t){let t=setTimeout(e.close,2e3);return()=>clearTimeout(t)}},[t,e]),(0,n.jsxs)(j,{name:"early-access",onSubmit:o,className:"mx-1",children:[(0,n.jsx)("h2",{children:"Early Access Program"}),(0,n.jsx)("p",{children:"Be among the first to try djinni.ai, get exclusive updates, priority access to features, and an opportunity to shape the\xa0future of the platform."}),(0,n.jsxs)("div",{className:"relative my-2 xl:my-3 pr-1",children:[(0,n.jsx)(S,{className:"pr-14",disabled:"init"!==t,onEscapePressed:e.close}),(0,n.jsx)(M,{className:"absolute right-[14px] xl:right-[16px] top-[14px] xl:top-[18px]",status:t}),(0,n.jsxs)("div",{className:"mt-3.5 -mb-9 text-sm text-red-400 text-center",children:[s,"\xa0"]})]}),(0,n.jsxs)("p",{children:["By participating ",(0,n.jsx)("span",{className:"hidden xl:inline",children:"in the program"})," you are agreeing to ",(0,n.jsx)("span",{className:"hidden xl:inline",children:"our"})," ",(0,n.jsx)(d(),{href:"/terms-of-service",children:"Terms of Service"})," and ",(0,n.jsx)(d(),{href:"/privacy-policy",children:"Privacy Policy"}),"."]})]})}function S(e){let{className:t,disabled:l,onEscapePressed:s}=e,r=(0,c.useCallback)(e=>{"Escape"===e.key&&s()},[s]);return(0,n.jsx)(C,{name:"email",type:"email",placeholder:"Leave us your email...",autoComplete:"off",disabled:l,autoFocus:!0,required:!0,className:t,onKeyDown:r})}function M(e){let{className:t,status:l}=e,{valid:s}=w();return(0,n.jsx)("div",{className:t,children:(0,n.jsxs)("button",{type:"submit",disabled:"init"!==l||!s,className:"w-10 h-10",children:["init"===l&&!s&&(0,n.jsx)(f.A,{className:"w-5 h-5 m-2.5 text-slate-600/40"}),"init"===l&&s&&(0,n.jsx)(h.A,{className:"w-10 h-10 text-violet/50 cursor-pointer"}),"submitted"===l&&(0,n.jsx)("div",{className:"w-8 h-8 m-1 loader"}),"success"===l&&(0,n.jsx)(b.A,{className:"w-10 h-10 text-green-500/70"}),"error"===l&&(0,n.jsx)(y.A,{className:"w-6 h-6 m-2 text-red-400/90"})]})})}function P(e){let{size:t="S",mobileSize:l=t,className:s,style:r}=e,o=(0,m.d_)(),a=(0,c.useCallback)(()=>(o.open((0,n.jsx)(E,{})),!1),[o]);return(0,n.jsx)(x,{size:t,mobileSize:l,style:r,className:s,onAction:a,children:"Get Early Access"})}let z=P},8026:(e,t,l)=>{l.d(t,{ModalWindowProvider:()=>c,d_:()=>i});var n=l(5155),s=l(2115),r=l(6743);function o(e){let{children:t,close:l,onClosed:o}=e,[a,i]=(0,s.useState)("init"),[c,u]=(0,s.useState)(!1),[d,x]=(0,s.useState)([-1e3,-1e3]),p=(0,s.useRef)(null),{documentElement:m}=document,f=(0,s.useMemo)(()=>({overlay:["modal fixed top-0 left-0 w-full h-full z-100","flex items-center justify-center bg-violet/15",..."init"===a?["will-change-[backdrop-filter]"]:[],..."opening"===a?["will-change-[backdrop-filter] backdrop-blur-in"]:[],..."open"===a?["backdrop-blur-in","cursor-grab"]:[],...c?["will-change-[backdrop-filter]"]:[],..."closing"===a?["backdrop-blur-out"]:[],..."closed"===a?["backdrop-blur-out"]:[]].join(" "),window:["relative w-modal h-fit bg-linear-to-tl from-violet to-purple shadow-2xl","xl:rounded-lg xl:px-10 py-17 xl:py-14 cursor-default flex items-center","transition-all ease-out",..."init"===a?["will-change-transform will-change-opacity -translate-y-full opacity-0"]:[],..."opening"===a?["will-change-transform will-change-opacity duration-500 xl:delay-200 translate-none opacity-100"]:[],..."open"===a?["translate-none opacity-100"]:[],...c?["will-change-transform will-change-opacity"]:[],..."closing"===a?["duration-400 translate-y-full opacity-0"]:[],..."closed"===a?["translate-y-full opacity-0"]:[]].join(" "),content:"flex flex-col justify-center max-w-mobile h-full xl:h-fit mx-auto px-6 xl:px-0 xl:max-w-full",closeButton:["absolute top-0 right-0 w-16 h-16","flex items-center justify-center","text-primary",..."open"===a?["cursor-pointer"]:[]].join(" ")}),[a,c]);(0,s.useEffect)(()=>{"init"===a&&(i("opening"),m.classList.add("noscroll"))},[a,m]),(0,s.useEffect)(()=>{"open"===a&&l&&u(!0)},[a,l]);let h=(0,s.useCallback)(e=>{e.stopPropagation(),"open"===a&&u(!0)},[a]);(0,s.useEffect)(()=>{c&&i("closing")},[c]);let b=(0,s.useCallback)(()=>{"opening"===a&&i("open"),"closing"===a&&(i("closed"),m.classList.remove("noscroll"))},[a,m]);(0,s.useEffect)(()=>{"closed"===a&&o()},[a,o]);let y=(0,s.useCallback)(e=>{e.stopPropagation(),"A"===e.target.nodeName&&h(e)},[h]),v=(0,s.useCallback)(e=>{x([e.clientX,e.clientY])},[x]),w=(0,s.useCallback)(e=>{let[t,l]=d,[n,s]=[e.clientX,e.clientY],r=n-t,o=s-l;10>Math.sqrt(r*r+o*o)&&e.target===p.current&&h(e),x([-1e3,-1e3])},[d,h]);return(0,n.jsx)("div",{ref:p,className:f.overlay,onMouseDown:v,onMouseUp:w,children:(0,n.jsxs)("div",{className:f.window,onClick:y,onTransitionEnd:b,children:[(0,n.jsx)("button",{className:f.closeButton,onClick:h,children:(0,n.jsx)(r.A,{className:"w-7 h-7"})}),(0,n.jsx)("div",{className:f.content,children:t})]})})}let a=(0,s.createContext)({open:()=>{},close:()=>{}});function i(){let e=(0,s.useContext)(a);if(null===e)throw Error("useModalWindow must be used within a ModalWindowProvider");return e}function c(e){let{children:t}=e,[l,r]=(0,s.useState)(null),[i,c]=(0,s.useState)(!1),u=(0,s.useCallback)(e=>{r(e)},[r]),d=(0,s.useCallback)(()=>{c(!0)},[c]),x=(0,s.useCallback)(()=>{r(null),c(!1)},[r,c]),p=(0,s.useMemo)(()=>({open:u,close:d}),[u,d]);return(0,n.jsxs)(a.Provider,{value:p,children:[t,l&&(0,n.jsx)(o,{onClosed:x,close:i,children:l})]})}}}]);